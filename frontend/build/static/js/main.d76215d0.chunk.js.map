{"version":3,"sources":["components/Card.js","images/bin1.svg","images/bin2.svg","utils/utils.js","utils/api.js","images/edit-button.svg","images/logo-white.svg","components/Header.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/InfoTooltip.js","components/AddPlacePopup.js","components/Welcome.js","components/Register.js","components/Login.js","mestoAuth.js","components/ProtectedRoute.js","images/login-yes.svg","images/login-no.svg","components/App.js","reportWebVitals.js","index.js","contexts/CurrentUserContext.js"],"names":["Card","card","onCardClick","onCardLike","onCardDelete","currentUser","React","useContext","CurrentUserContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","className","src","link","alt","name","onClick","type","length","aria-label","deleteButtonTop","deleteButtonBottom","module","exports","likeCard","req","res","findByIdAndUpdate","params","cardId","$addToSet","new","orFail","Error","then","like","send","catch","err","alert","handleOriginalResponse","ok","json","Promise","reject","status","api","baseUrl","headers","this","token","authorization","fetch","result","userData","method","body","JSON","stringify","about","userAvatar","data","cardData","localStorage","getItem","Header","subtitle","textBtn","handleSignOut","href","logo","to","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","editButton","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","minLength","maxLength","required","placeholder","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","InfoTooltip","InfoTool","image","message","AddPlacePopup","setTitle","setLink","Welcome","childrenInput","childrenSubtitle","withRouter","onRegister","email","password","setData","history","useHistory","handleChange","push","handleLogin","BASE_URL","ProtectedRoute","Component","component","props","loggedIn","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isZoomPopupOpen","setIsZoomPopupOpen","selectedCard","setSelectedCard","setLoggedIn","setUserData","registerPopup","setRegisterPopup","onRegisterPopup","closeAllPopups","setToken","all","getUserData","getInitialCards","Provider","exact","path","removeItem","deleteLike","newCard","newCards","c","putLike","deleteCard","newCardsArr","filter","mestoAuth","success","fail","setItem","tokenCheck","jwt","patchUserData","postNewCard","patchUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.d76215d0.chunk.js","sourcesContent":["import React from \"react\";\nimport deleteButtonTop from \"./../images/bin1.svg\";\nimport deleteButtonBottom from \"./../images/bin2.svg\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  // подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Тернарные выражения на отображение стилей лайка/корзины\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = `elements__delete-button ${\n    isOwn ? \"elements__delete-button\" : \"elements__delete-button_hidden\"\n  }`;\n  const isLiked = card.likes.some(user => user === currentUser._id);\n  const cardLikeButtonClassName = `elements__like ${\n    isLiked ? \"elements__like_active\" : \"elements__like\"\n  }`;\n\n  // Фукнции на зум, лайк-дизлайк, удаление прокинутые из компонента App\n  function handleClick() {\n    onCardClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className=\"elements__card\">\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"elements__image\"\n        onClick={handleClick}\n      />\n      <div className=\"elements__group\">\n        <p className=\"elements__title\">{card.name}</p>\n        <div className=\"elements__likes-container\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"elements__likes-count\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"delete\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        >\n          <img\n            src={deleteButtonTop}\n            alt=\"Удалить\"\n            className=\"elements__delete-top\"\n          />\n          <img\n            src={deleteButtonBottom}\n            alt=\"Удалить\"\n            className=\"elements__delete-bottom\"\n          />\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n\nmodule.exports.likeCard = (req, res) => {\n  Card.findByIdAndUpdate(req.params.cardId, { $addToSet: { likes: req.user } }, { new: true })\n    .orFail(() => {\n      throw new Error('404');\n    })\n    .then((like) => res.send(like))\n    .catch((err) => {\n      alert(err);\n    });\n};","export default __webpack_public_path__ + \"static/media/bin1.7b8dd559.svg\";","export default __webpack_public_path__ + \"static/media/bin2.596a2577.svg\";","export const handleOriginalResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  return res.json();\n};","import { handleOriginalResponse } from \"../utils/utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  setToken(token){\n    this.headers.authorization = `Bearer ${token}` ;\n  }\n\n  getUserData() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserData(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserAvatar(userAvatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(userAvatar),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  postNewCard(cardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteCard(cardData) {\n    return fetch(`${this.baseUrl}/cards/${cardData}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  putLike(_id) {\n    return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"http://api.volorel-mesto.students.nomoreparties.space\",\n  headers: {\n    \"authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/edit-button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/logo-white.a307e1c4.svg\";","import logo from \"./../images/logo-white.svg\";\nimport { Link } from 'react-router-dom';\n\nfunction Header({\n  subtitle,\n  link='#',\n  textBtn,\n  handleSignOut,\n  userData\n}) {\n  return (\n    <header className=\"header\">\n      <a href={link} className=\"header__logo-link\">\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n      <div className=\"header__container\">\n        <p className=\"header__login\">{userData}</p>\n        <p><Link to={link} className=\"header__login header__login-link\">{subtitle}</Link></p>\n        <button onClick={handleSignOut} className=\"header__login header__button \">{textBtn}</button>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import editButton from \"./../images/edit-button.svg\";\nimport React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Header from \"../components/Header.js\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  handleSignOut,\n  userData\n}) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n    <Header textBtn=\"Выйти\" userData={userData} handleSignOut={handleSignOut}/>\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватарка\"\n            className=\"profile__avatar\"\n          />\n          <div className=\"profile__edit-avatar\">\n            <img\n              src={editButton}\n              alt=\"Редактировать\"\n              className=\"profile__edit-avatar-image\"\n              onClick={onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__personal-info\">\n          <div className=\"profile__personal-adaptiv\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button\"\n              onClick={onEditProfile}\n            >\n              <img\n                src={editButton}\n                alt=\"Редактировать\"\n                className=\"profile__edit-button-image\"\n              />\n            </button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n    </>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup({ isOpen, card, onClose }) {\n  if (!isOpen) { \n    return null;\n  }\n  return (\n    <section className={`${card ? \"popup popup_opened\" : \"popup\"} popup_zoom`}>\n      <div className=\"popup__container popup__container_zoom\">\n        <button\n          type=\"button\"\n          aria-label=\"close\"\n          className=\"popup__close popup__close_zoom\"\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <p className=\"popup__title_zoom\">{card.name}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({\n  isOpen,\n  name,\n  title,\n  onClose,\n  children,\n  textBtn,\n  onSubmit,\n}) {\n  return (\n    <section\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\n    >\n      <div className=\"popup__container\">\n        <form\n          action=\"#\"\n          name={`${name}-form`}\n          className={`popup__form popup__container popup__container_${name}`}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <button\n            type=\"button\"\n            aria-label=\"close\"\n            onClick={onClose}\n            className={`popup__close popup__close_${name}`}\n          ></button>\n          <h2 className={`popup__title popup__title_${name}`}>{title}</h2>\n          {children}\n          <button type=\"submit\" className={`popup__save popup__save_${name}`}>\n            {textBtn}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Стейты имени и описания данных пользователя\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  // Монтирование эффекта установки данных пользователя\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  // Управляемые компоненты input полей формы\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n        placeholder=\"Имя\"\n        className=\"popup__input popup__input_edit_name\"\n        id=\"edit-name\"\n        value={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-name-error\"></span>\n      <input\n        type=\"text\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        placeholder=\"Занятие\"\n        className=\"popup__input popup__input_edit_about\"\n        id=\"edit-about\"\n        value={description}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-about-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  // Использование рефа\n  const avatarRef = React.useRef();\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"editAvatar\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на новый аватар\"\n        required\n        className=\"popup__input popup__input_editAvatar-link\"\n        id=\"editAvatar-link\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error\" id=\"editAvatar-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, name, InfoTool }) {\r\n  return (\r\n    <section\r\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"close\"\r\n          onClick={onClose}\r\n          className={`popup__close popup__close_${name}`}\r\n        />\r\n        <img src={InfoTool.image} alt=\"Картинка\" className=\"popup__logo\" />\r\n        <h2 className=\"popup__title popup__title_register\">{InfoTool.message}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\nimport PopupWithForm from \"../components/PopupWithForm.js\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  // Стейты имени и ссылки новой карточки\n  const [title, setTitle] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  // Управляемые компоненты input полей формы\n  function handleTitleChange(evt) {\n    setTitle(evt.target.value);\n  }\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: title,\n      link: link,\n    });\n    setTitle(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n        placeholder=\"Название\"\n        className=\"popup__input popup__input_add-title\"\n        id=\"add-title\"\n        value={title}\n        onChange={handleTitleChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-title-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        className=\"popup__input popup__input_add-link\"\n        id=\"add-link\"\n        value={link}\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function Welcome({ title, textBtn, childrenInput, childrenSubtitle, onSubmit }) {\r\n  return (\r\n    <section className=\"welcome\">\r\n      <div className=\"welcome__container\">\r\n        <form className=\"welcome__form\" onSubmit={onSubmit}>\r\n          <h2 className=\"welcome__title\">{title}</h2>\r\n          {childrenInput}\r\n          <button className=\"welcome__button\">{textBtn}</button>\r\n        </form>\r\n        {childrenSubtitle}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport { useHistory, withRouter, Link } from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Register({onRegister}) {\r\n  const [data, setData] = React.useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const history = useHistory();\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n      onRegister(data)\r\n      .then(() => history.push('/sign-in'))\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Войти\" link=\"/sign-in\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"register\"\r\n        title=\"Регистрация\"\r\n        textBtn=\"Зарегистрироваться\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              id=\"email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              id=\"password\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n        childrenSubtitle={\r\n          <span className=\"welcome__subtitle\">\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link to=\"/sign-in\" className=\"welcome__subtitle-link\">Войти</Link>\r\n          </span>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport {useHistory, withRouter} from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Login({handleLogin}) {\r\n  const history = useHistory();\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    handleLogin(data)\r\n    .then(() => history.push('/'))\r\n    .catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Регистрация\" link=\"/sign-up\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"login\"\r\n        title=\"Войти\"\r\n        textBtn=\"Вход\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import { handleOriginalResponse } from \"../src/utils/utils\";\r\n\r\nexport const BASE_URL = \"http://api.volorel-mesto.students.nomoreparties.space\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/sign-up`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/sign-in`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n      'authorization': `Bearer ${token}`,\r\n    },\r\n  }).then(handleOriginalResponse);\r\n};","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {props.loggedIn === true ? (<Component {...props} />) : (<Redirect to=\"/sign-in\" />)}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/login-yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/login-no.df8eddf6.svg\";","import React from \"react\";\nimport api from \"../utils/api.js\";\nimport Main from \"../components/Main.js\";\nimport Footer from \"../components/Footer.js\";\nimport ImagePopup from \"../components/ImagePopup.js\";\nimport EditProfilePopup from \"../components/EditProfilePopup.js\";\nimport EditAvatarPopup from \"../components/EditAvatarPopup.js\";\nimport InfoTooltip from \"../components/InfoTooltip.js\";\nimport AddPlacePopup from \"../components/AddPlacePopup.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Register from \"../components/Register.js\";\nimport Login from \"../components/Login.js\";\nimport * as mestoAuth from \"../mestoAuth.js\";\nimport ProtectedRoute from \"../components/ProtectedRoute.js\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  withRouter,\n  useHistory,\n} from \"react-router-dom\";\nimport success from \"./../images/login-yes.svg\";\nimport fail from \"./../images/login-no.svg\";\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isZoomPopupOpen, setIsZoomPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    email: \"\",\n  });\n  const [registerPopup, setRegisterPopup] = React.useState({\n    message: \"\",\n    image: \"\",\n  });\n\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (!token){\n      return;\n    }\n    api.setToken(token);\n    setLoggedIn(true)\n    }, []);\n\n  // Монтирование эффекта через Promise.all\n  React.useEffect(() => {\n    if (loggedIn) {\n      api.setToken(localStorage.getItem('jwt'));\n      history.push('/');\n      Promise.all([api.getUserData(), api.getInitialCards()])\n        .then(([userData, cardData]) => {\n          setCurrentUser(userData);\n          setCards(cardData);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }, [loggedIn, history]);\n\n  // Функция регистрации\n  function handleRegister(data) {\n    const { email, password } = data;\n    return mestoAuth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          onRegisterPopup();\n          setRegisterPopup({\n            message: \"Вы успешно зарегистрировались!\",\n            image: success,\n          });\n        }\n        return res;\n      })\n      .catch(() => {\n        onRegisterPopup();\n        setRegisterPopup({\n          message: \"Что-то пошло не так! Попробуйте еще раз.\",\n          image: fail,\n        });\n      });\n  }\n\n  // Функция авторизации\n  function handleLogin (data) {\n    const { email, password } = data;\n    return mestoAuth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"jwt\", res.token);\n          setUserData({\n            email: email,\n          });\n          api.setToken(res.token);\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция выхода\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  // Функция проверки токена\n  function tokenCheck(jwt) {\n    mestoAuth\n      .getContent(jwt)\n      .then((res) => {\n        if (res) {\n          const userData = {\n            email: res.data.email,\n          };\n          setLoggedIn(true);\n          setUserData(userData);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция лайк-дизлайк\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user === currentUser._id);\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard.data : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard.data : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }\n\n  // Функция удаления карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCardsArr = cards.filter((c) => c._id !== card._id);\n        setCards(newCardsArr);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функции открытия popup форм\n  function onEditProfile() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function onAddPlace() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function onEditAvatar() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function onRegisterPopup() {\n    setIsRegisterPopupOpen(true);\n  }\n\n  // Функция открытия popup окна зума карточки\n  function handleCardClick(card) {\n    setIsZoomPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  // Функция закрытия popup форм\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsZoomPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  // Функция апдейта данных пользователя\n  function handleUpdateUser(userData) {\n    api\n      .patchUserData(userData)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция апдейта аватарки пользователя\n  function handleUpdateAvatar(userAvatar) {\n    api\n      .patchUserAvatar(userAvatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция добавления новой карточки\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .postNewCard(cardData)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            handleSignOut={handleSignOut}\n            onEditProfile={onEditProfile}\n            onAddPlace={onAddPlace}\n            onEditAvatar={onEditAvatar}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n            userData={userData.email}\n          />\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} tokenCheck={tokenCheck} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup\n          isOpen={isZoomPopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <InfoTooltip\n          isOpen={isRegisterPopupOpen}\n          onClose={closeAllPopups}\n          InfoTool={registerPopup}\n          name=\"register\"\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n"],"sourceRoot":""}