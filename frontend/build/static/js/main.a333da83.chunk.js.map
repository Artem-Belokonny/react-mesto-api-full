{"version":3,"sources":["utils/utils.js","utils/api.js","images/edit-button.svg","images/bin1.svg","images/bin2.svg","contexts/CurrentUserContext.js","components/Card.js","images/logo-white.svg","components/Header.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/InfoTooltip.js","components/AddPlacePopup.js","components/Welcome.js","components/Register.js","components/Login.js","mestoAuth.js","components/ProtectedRoute.js","images/login-yes.svg","images/login-no.svg","components/App.js","reportWebVitals.js","index.js"],"names":["handleOriginalResponse","res","ok","json","Promise","reject","status","api","baseUrl","headers","this","token","authorization","fetch","then","result","userData","method","body","JSON","stringify","name","about","avatar","data","cardData","link","_id","localStorage","getItem","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","className","src","alt","onClick","type","length","aria-label","deleteButtonTop","deleteButtonBottom","Header","subtitle","textBtn","handleSignOut","href","logo","to","Main","onEditAvatar","onEditProfile","onAddPlace","cards","editButton","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","minLength","maxLength","required","placeholder","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","InfoTooltip","InfoTool","image","message","AddPlacePopup","setTitle","setLink","Welcome","childrenInput","childrenSubtitle","withRouter","onRegister","email","password","setData","history","useHistory","handleChange","push","catch","err","alert","handleLogin","BASE_URL","ProtectedRoute","Component","component","props","loggedIn","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isZoomPopupOpen","setIsZoomPopupOpen","selectedCard","setSelectedCard","setLoggedIn","setUserData","registerPopup","setRegisterPopup","tokenCheck","jwt","onRegisterPopup","closeAllPopups","setToken","all","getUserData","getInitialCards","Provider","exact","path","removeItem","deleteLike","newCard","newCards","c","putLike","deleteCard","newCardsArr","filter","mestoAuth","success","fail","setItem","patchUserData","postNewCard","userAvatar","patchUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a333da83.chunk.js","sourcesContent":["export const handleOriginalResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  return res.json();\n};","import { handleOriginalResponse } from \"../utils/utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  setToken(token){\n    this.headers.authorization = `Bearer ${token}` ;\n  }\n\n  getUserData() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserData(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserAvatar(userData) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({avatar: userData.avatar}),\n      // body: JSON.stringify(userAvatar),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  postNewCard(cardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteCard(cardData) {\n    return fetch(`${this.baseUrl}/cards/${cardData}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  putLike(_id) {\n    return fetch(`${this.baseUrl}/cards/${_id}/likes`, {\n      method: \"PUT\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this.baseUrl}/cards/${_id}/likes`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"http://api.volorel-mesto.students.nomoreparties.space\",\n  headers: {\n    \"authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/edit-button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/bin1.7b8dd559.svg\";","export default __webpack_public_path__ + \"static/media/bin2.596a2577.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport deleteButtonTop from \"./../images/bin1.svg\";\nimport deleteButtonBottom from \"./../images/bin2.svg\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  // подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Тернарные выражения на отображение стилей лайка/корзины\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = `elements__delete-button ${\n    isOwn ? \"elements__delete-button\" : \"elements__delete-button_hidden\"\n  }`;\n  const isLiked = card.likes.some(user => user === currentUser._id);\n  const cardLikeButtonClassName = `elements__like ${\n    isLiked ? \"elements__like_active\" : \"elements__like\"\n  }`;\n\n  // Фукнции на зум, лайк-дизлайк, удаление прокинутые из компонента App\n  function handleClick() {\n    onCardClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className=\"elements__card\">\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"elements__image\"\n        onClick={handleClick}\n      />\n      <div className=\"elements__group\">\n        <p className=\"elements__title\">{card.name}</p>\n        <div className=\"elements__likes-container\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"elements__likes-count\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"delete\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        >\n          <img\n            src={deleteButtonTop}\n            alt=\"Удалить\"\n            className=\"elements__delete-top\"\n          />\n          <img\n            src={deleteButtonBottom}\n            alt=\"Удалить\"\n            className=\"elements__delete-bottom\"\n          />\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/logo-white.a307e1c4.svg\";","import logo from \"./../images/logo-white.svg\";\nimport { Link } from 'react-router-dom';\n\nfunction Header({\n  subtitle,\n  link='#',\n  textBtn,\n  handleSignOut,\n  userData\n}) {\n  return (\n    <header className=\"header\">\n      <a href={link} className=\"header__logo-link\">\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n      <div className=\"header__container\">\n        <p className=\"header__login\">{userData}</p>\n        <p><Link to={link} className=\"header__login header__login-link\">{subtitle}</Link></p>\n        <button onClick={handleSignOut} className=\"header__login header__button \">{textBtn}</button>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import editButton from \"./../images/edit-button.svg\";\nimport React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Header from \"../components/Header.js\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  handleSignOut,\n  userData\n}) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n    <Header textBtn=\"Выйти\" userData={userData} handleSignOut={handleSignOut}/>\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватарка\"\n            className=\"profile__avatar\"\n          />\n          <div className=\"profile__edit-avatar\">\n            <img\n              src={editButton}\n              alt=\"Редактировать\"\n              className=\"profile__edit-avatar-image\"\n              onClick={onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__personal-info\">\n          <div className=\"profile__personal-adaptiv\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button\"\n              onClick={onEditProfile}\n            >\n              <img\n                src={editButton}\n                alt=\"Редактировать\"\n                className=\"profile__edit-button-image\"\n              />\n            </button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n    </>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup({ isOpen, card, onClose }) {\n  if (!isOpen) { \n    return null;\n  }\n  return (\n    <section className={`${card ? \"popup popup_opened\" : \"popup\"} popup_zoom`}>\n      <div className=\"popup__container popup__container_zoom\">\n        <button\n          type=\"button\"\n          aria-label=\"close\"\n          className=\"popup__close popup__close_zoom\"\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <p className=\"popup__title_zoom\">{card.name}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({\n  isOpen,\n  name,\n  title,\n  onClose,\n  children,\n  textBtn,\n  onSubmit,\n}) {\n  return (\n    <section\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\n    >\n      <div className=\"popup__container\">\n        <form\n          action=\"#\"\n          name={`${name}-form`}\n          className={`popup__form popup__container popup__container_${name}`}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <button\n            type=\"button\"\n            aria-label=\"close\"\n            onClick={onClose}\n            className={`popup__close popup__close_${name}`}\n          ></button>\n          <h2 className={`popup__title popup__title_${name}`}>{title}</h2>\n          {children}\n          <button type=\"submit\" className={`popup__save popup__save_${name}`}>\n            {textBtn}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Стейты имени и описания данных пользователя\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  // Монтирование эффекта установки данных пользователя\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  // Управляемые компоненты input полей формы\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n        placeholder=\"Имя\"\n        className=\"popup__input popup__input_edit_name\"\n        id=\"edit-name\"\n        value={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-name-error\"></span>\n      <input\n        type=\"text\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        placeholder=\"Занятие\"\n        className=\"popup__input popup__input_edit_about\"\n        id=\"edit-about\"\n        value={description}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-about-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  // Использование рефа\n  const avatarRef = React.useRef();\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"editAvatar\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на новый аватар\"\n        required\n        className=\"popup__input popup__input_editAvatar-link\"\n        id=\"editAvatar-link\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error\" id=\"editAvatar-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, name, InfoTool }) {\r\n  return (\r\n    <section\r\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"close\"\r\n          onClick={onClose}\r\n          className={`popup__close popup__close_${name}`}\r\n        />\r\n        <img src={InfoTool.image} alt=\"Картинка\" className=\"popup__logo\" />\r\n        <h2 className=\"popup__title popup__title_register\">{InfoTool.message}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\nimport PopupWithForm from \"../components/PopupWithForm.js\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  // Стейты имени и ссылки новой карточки\n  const [title, setTitle] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  // Управляемые компоненты input полей формы\n  function handleTitleChange(evt) {\n    setTitle(evt.target.value);\n  }\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: title,\n      link: link,\n    });\n    setTitle(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n        placeholder=\"Название\"\n        className=\"popup__input popup__input_add-title\"\n        id=\"add-title\"\n        value={title}\n        onChange={handleTitleChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-title-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        className=\"popup__input popup__input_add-link\"\n        id=\"add-link\"\n        value={link}\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function Welcome({ title, textBtn, childrenInput, childrenSubtitle, onSubmit }) {\r\n  return (\r\n    <section className=\"welcome\">\r\n      <div className=\"welcome__container\">\r\n        <form className=\"welcome__form\" onSubmit={onSubmit}>\r\n          <h2 className=\"welcome__title\">{title}</h2>\r\n          {childrenInput}\r\n          <button className=\"welcome__button\">{textBtn}</button>\r\n        </form>\r\n        {childrenSubtitle}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport { useHistory, withRouter, Link } from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Register({onRegister}) {\r\n  const [data, setData] = React.useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const history = useHistory();\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n      onRegister(data)\r\n      .then(() => history.push('/signin'))\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Войти\" link=\"/signin\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"register\"\r\n        title=\"Регистрация\"\r\n        textBtn=\"Зарегистрироваться\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              id=\"email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              id=\"password\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n        childrenSubtitle={\r\n          <span className=\"welcome__subtitle\">\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link to=\"/signin\" className=\"welcome__subtitle-link\">Войти</Link>\r\n          </span>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport {useHistory, withRouter} from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Login({handleLogin}) {\r\n  const history = useHistory();\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    handleLogin(data)\r\n    .then(() => history.push('/'))\r\n    .catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Регистрация\" link=\"/signup\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"login\"\r\n        title=\"Войти\"\r\n        textBtn=\"Вход\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import { handleOriginalResponse } from \"../src/utils/utils\";\r\n\r\nexport const BASE_URL = \"http://api.volorel-mesto.students.nomoreparties.space\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n      'authorization': `Bearer ${token}`,\r\n    },\r\n  }).then(handleOriginalResponse);\r\n};","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {props.loggedIn === true ? (<Component {...props} />) : (<Redirect to=\"/signin\" />)}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/login-yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/login-no.df8eddf6.svg\";","import React from \"react\";\nimport api from \"../utils/api.js\";\nimport Main from \"../components/Main.js\";\nimport Footer from \"../components/Footer.js\";\nimport ImagePopup from \"../components/ImagePopup.js\";\nimport EditProfilePopup from \"../components/EditProfilePopup.js\";\nimport EditAvatarPopup from \"../components/EditAvatarPopup.js\";\nimport InfoTooltip from \"../components/InfoTooltip.js\";\nimport AddPlacePopup from \"../components/AddPlacePopup.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Register from \"../components/Register.js\";\nimport Login from \"../components/Login.js\";\nimport * as mestoAuth from \"../mestoAuth.js\";\nimport ProtectedRoute from \"../components/ProtectedRoute.js\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  withRouter,\n  useHistory,\n} from \"react-router-dom\";\nimport success from \"./../images/login-yes.svg\";\nimport fail from \"./../images/login-no.svg\";\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isZoomPopupOpen, setIsZoomPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    email: \"\",\n  });\n  const [registerPopup, setRegisterPopup] = React.useState({\n    message: \"\",\n    image: \"\",\n  });\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (!token){\n      return;\n    }\n    api.setToken(token);\n    setLoggedIn(true);\n    tokenCheck(token);\n    }, []);\n\n  // Монтирование эффекта через Promise.all\n  React.useEffect(() => {\n    if (loggedIn) {\n      api.setToken(localStorage.getItem('jwt'));\n      history.push('/');\n      Promise.all([api.getUserData(), api.getInitialCards()])\n        .then(([userData, cardData]) => {\n          setCurrentUser(userData);\n          setCards(cardData);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }, [loggedIn, history]);\n\n  // Функция регистрации\n  function handleRegister(data) {\n    const { email, password } = data;\n    return mestoAuth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          onRegisterPopup();\n          setRegisterPopup({\n            message: \"Вы успешно зарегистрировались!\",\n            image: success,\n          });\n        }\n        return res;\n      })\n      .catch(() => {\n        onRegisterPopup();\n        setRegisterPopup({\n          message: \"Что-то пошло не так! Попробуйте еще раз.\",\n          image: fail,\n        });\n      });\n  }\n\n  // Функция авторизации\n  function handleLogin (data) {\n    const { email, password } = data;\n    return mestoAuth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"jwt\", res.token);\n          setUserData({\n            email: email,\n          });\n          api.setToken(res.token);\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция выхода\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/signin\");\n  }\n\n  // Функция проверки токена\n  function tokenCheck(jwt) {\n    mestoAuth\n      .getContent(jwt)\n      .then((res) => {\n        if (res) {\n          const userData = {\n            email: res.email,\n          };\n          setLoggedIn(true);\n          setUserData(userData);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция лайк-дизлайк\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user === currentUser._id);\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard.data : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard.data : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }\n\n  // Функция удаления карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCardsArr = cards.filter((c) => c._id !== card._id);\n        setCards(newCardsArr);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функции открытия popup форм\n  function onEditProfile() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function onAddPlace() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function onEditAvatar() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function onRegisterPopup() {\n    setIsRegisterPopupOpen(true);\n  }\n\n  // Функция открытия popup окна зума карточки\n  function handleCardClick(card) {\n    setIsZoomPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  // Функция закрытия popup форм\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsZoomPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  // Функция апдейта данных пользователя\n  function handleUpdateUser(userData) {\n    api\n      .patchUserData(userData)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция апдейта аватарки пользователя\n  function handleUpdateAvatar(userAvatar) {\n    api\n      .patchUserAvatar(userAvatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция добавления новой карточки\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .postNewCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            handleSignOut={handleSignOut}\n            onEditProfile={onEditProfile}\n            onAddPlace={onAddPlace}\n            onEditAvatar={onEditAvatar}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n            userData={userData.email}\n          />\n          <Route path=\"/signup\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login handleLogin={handleLogin} tokenCheck={tokenCheck} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup\n          isOpen={isZoomPopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <InfoTooltip\n          isOpen={isRegisterPopupOpen}\n          onClose={closeAllPopups}\n          InfoTool={registerPopup}\n          name=\"register\"\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}