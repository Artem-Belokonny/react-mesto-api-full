{"version":3,"sources":["utils/utils.js","utils/api.js","images/edit-button.svg","images/bin1.svg","images/bin2.svg","contexts/CurrentUserContext.js","components/Card.js","images/logo-white.svg","components/Header.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/InfoTooltip.js","components/AddPlacePopup.js","components/Welcome.js","components/Register.js","components/Login.js","mestoAuth.js","components/ProtectedRoute.js","images/login-yes.svg","images/login-no.svg","components/App.js","reportWebVitals.js","index.js"],"names":["handleOriginalResponse","res","ok","json","Promise","reject","status","api","baseUrl","headers","this","fetch","then","result","userData","method","body","JSON","stringify","name","about","userAvatar","data","cardData","link","_id","token","authorization","localStorage","getItem","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","src","alt","onClick","type","length","aria-label","deleteButtonTop","deleteButtonBottom","Header","subtitle","textBtn","handleSignOut","href","logo","to","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","editButton","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","minLength","maxLength","required","placeholder","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","InfoTooltip","InfoTool","image","message","AddPlacePopup","setTitle","setLink","Welcome","childrenInput","childrenSubtitle","withRouter","onRegister","email","password","setData","history","useHistory","handleChange","push","catch","err","alert","handleLogin","BASE_URL","ProtectedRoute","Component","component","props","loggedIn","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isZoomPopupOpen","setIsZoomPopupOpen","selectedCard","setSelectedCard","setLoggedIn","setUserData","registerPopup","setRegisterPopup","onRegisterPopup","closeAllPopups","setToken","all","getUserData","getInitialCards","Provider","exact","path","removeItem","deleteLike","newCard","newCards","c","putLike","deleteCard","newCardsArr","filter","mestoAuth","success","fail","setItem","tokenCheck","jwt","patchUserData","postNewCard","patchUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25d1b4b7.chunk.js","sourcesContent":["export const handleOriginalResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  return res.json();\n};","import { handleOriginalResponse } from \"../utils/utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  getUserData() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserData(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  patchUserAvatar(userAvatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(userAvatar),\n    })\n      .then(handleOriginalResponse)\n      .then((result) => {\n        return result;\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  postNewCard(cardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link,\n      }),\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteCard(cardData) {\n    return fetch(`${this.baseUrl}/cards/${cardData}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  putLike(_id) {\n    return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then(handleOriginalResponse)\n      .then((data) => {\n        return data;\n      });\n  }\n\n  setToken(token){\n    this.headers.authorization = `Bearer ${token}` ;\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"http://api.volorel-mesto.students.nomoreparties.space\",\n  headers: {\n    \"authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/edit-button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/bin1.7b8dd559.svg\";","export default __webpack_public_path__ + \"static/media/bin2.596a2577.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport deleteButtonTop from \"./../images/bin1.svg\";\nimport deleteButtonBottom from \"./../images/bin2.svg\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  // подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Тернарные выражения на отображение стилей лайка/корзины\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `elements__delete-button ${\n    isOwn ? \"elements__delete-button\" : \"elements__delete-button_hidden\"\n  }`;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `elements__like ${\n    isLiked ? \"elements__like_active\" : \"elements__like\"\n  }`;\n\n  // Фукнции на зум, лайк-дизлайк, удаление прокинутые из компонента App\n  function handleClick() {\n    onCardClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <article className=\"elements__card\">\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"elements__image\"\n        onClick={handleClick}\n      />\n      <div className=\"elements__group\">\n        <p className=\"elements__title\">{card.name}</p>\n        <div className=\"elements__likes-container\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"elements__likes-count\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"delete\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        >\n          <img\n            src={deleteButtonTop}\n            alt=\"Удалить\"\n            className=\"elements__delete-top\"\n          />\n          <img\n            src={deleteButtonBottom}\n            alt=\"Удалить\"\n            className=\"elements__delete-bottom\"\n          />\n        </button>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/logo-white.a307e1c4.svg\";","import logo from \"./../images/logo-white.svg\";\nimport { Link } from 'react-router-dom';\n\nfunction Header({\n  subtitle,\n  link='#',\n  textBtn,\n  handleSignOut,\n  userData\n}) {\n  return (\n    <header className=\"header\">\n      <a href={link} className=\"header__logo-link\">\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n      <div className=\"header__container\">\n        <p className=\"header__login\">{userData}</p>\n        <p><Link to={link} className=\"header__login header__login-link\">{subtitle}</Link></p>\n        <button onClick={handleSignOut} className=\"header__login header__button \">{textBtn}</button>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import editButton from \"./../images/edit-button.svg\";\nimport React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Header from \"../components/Header.js\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  handleSignOut,\n  userData\n}) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n    <Header textBtn=\"Выйти\" userData={userData} handleSignOut={handleSignOut}/>\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватарка\"\n            className=\"profile__avatar\"\n          />\n          <div className=\"profile__edit-avatar\">\n            <img\n              src={editButton}\n              alt=\"Редактировать\"\n              className=\"profile__edit-avatar-image\"\n              onClick={onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__personal-info\">\n          <div className=\"profile__personal-adaptiv\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button\"\n              onClick={onEditProfile}\n            >\n              <img\n                src={editButton}\n                alt=\"Редактировать\"\n                className=\"profile__edit-button-image\"\n              />\n            </button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n    </>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup({ isOpen, card, onClose }) {\n  if (!isOpen) { \n    return null;\n  }\n  return (\n    <section className={`${card ? \"popup popup_opened\" : \"popup\"} popup_zoom`}>\n      <div className=\"popup__container popup__container_zoom\">\n        <button\n          type=\"button\"\n          aria-label=\"close\"\n          className=\"popup__close popup__close_zoom\"\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <p className=\"popup__title_zoom\">{card.name}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({\n  isOpen,\n  name,\n  title,\n  onClose,\n  children,\n  textBtn,\n  onSubmit,\n}) {\n  return (\n    <section\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\n    >\n      <div className=\"popup__container\">\n        <form\n          action=\"#\"\n          name={`${name}-form`}\n          className={`popup__form popup__container popup__container_${name}`}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <button\n            type=\"button\"\n            aria-label=\"close\"\n            onClick={onClose}\n            className={`popup__close popup__close_${name}`}\n          ></button>\n          <h2 className={`popup__title popup__title_${name}`}>{title}</h2>\n          {children}\n          <button type=\"submit\" className={`popup__save popup__save_${name}`}>\n            {textBtn}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Стейты имени и описания данных пользователя\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  // Монтирование эффекта установки данных пользователя\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  // Управляемые компоненты input полей формы\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n        placeholder=\"Имя\"\n        className=\"popup__input popup__input_edit_name\"\n        id=\"edit-name\"\n        value={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-name-error\"></span>\n      <input\n        type=\"text\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        placeholder=\"Занятие\"\n        className=\"popup__input popup__input_edit_about\"\n        id=\"edit-about\"\n        value={description}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__input-error\" id=\"edit-about-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"../components/PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  // Использование рефа\n  const avatarRef = React.useRef();\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"editAvatar\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на новый аватар\"\n        required\n        className=\"popup__input popup__input_editAvatar-link\"\n        id=\"editAvatar-link\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error\" id=\"editAvatar-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, name, InfoTool }) {\r\n  return (\r\n    <section\r\n      className={`${isOpen ? \"popup popup_opened\" : \"popup\"} popup_${name}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"close\"\r\n          onClick={onClose}\r\n          className={`popup__close popup__close_${name}`}\r\n        />\r\n        <img src={InfoTool.image} alt=\"Картинка\" className=\"popup__logo\" />\r\n        <h2 className=\"popup__title popup__title_register\">{InfoTool.message}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\nimport PopupWithForm from \"../components/PopupWithForm.js\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  // Стейты имени и ссылки новой карточки\n  const [title, setTitle] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  // Управляемые компоненты input полей формы\n  function handleTitleChange(evt) {\n    setTitle(evt.target.value);\n  }\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: title,\n      link: link,\n    });\n    setTitle(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      textBtn=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n        placeholder=\"Название\"\n        className=\"popup__input popup__input_add-title\"\n        id=\"add-title\"\n        value={title}\n        onChange={handleTitleChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-title-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        className=\"popup__input popup__input_add-link\"\n        id=\"add-link\"\n        value={link}\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__input-error\" id=\"add-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function Welcome({ title, textBtn, childrenInput, childrenSubtitle, onSubmit }) {\r\n  return (\r\n    <section className=\"welcome\">\r\n      <div className=\"welcome__container\">\r\n        <form className=\"welcome__form\" onSubmit={onSubmit}>\r\n          <h2 className=\"welcome__title\">{title}</h2>\r\n          {childrenInput}\r\n          <button className=\"welcome__button\">{textBtn}</button>\r\n        </form>\r\n        {childrenSubtitle}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport { useHistory, withRouter, Link } from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Register({onRegister}) {\r\n  const [data, setData] = React.useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const history = useHistory();\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n      onRegister(data)\r\n      .then(() => history.push('/sign-in'))\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Войти\" link=\"/sign-in\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"register\"\r\n        title=\"Регистрация\"\r\n        textBtn=\"Зарегистрироваться\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              id=\"email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              id=\"password\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n        childrenSubtitle={\r\n          <span className=\"welcome__subtitle\">\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link to=\"/sign-in\" className=\"welcome__subtitle-link\">Войти</Link>\r\n          </span>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport Welcome from \"../components/Welcome.js\";\r\nimport {useHistory, withRouter} from 'react-router-dom';\r\nimport Header from \"../components/Header.js\";\r\n\r\nfunction Login({handleLogin}) {\r\n  const history = useHistory();\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    handleLogin(data)\r\n    .then(() => history.push('/'))\r\n    .catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header subtitle=\"Регистрация\" link=\"/sign-up\"/>\r\n      <Welcome\r\n        onSubmit={handleSubmit}\r\n        name=\"login\"\r\n        title=\"Войти\"\r\n        textBtn=\"Вход\"\r\n        childrenInput={\r\n          <>\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder=\"Email\"\r\n              value={data.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              className=\"welcome__input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder=\"Пароль\"\r\n              value={data.password}\r\n              onChange={handleChange}\r\n            />\r\n          </>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import { handleOriginalResponse } from \"../src/utils/utils\";\r\n\r\nexport const BASE_URL = \"http://api.volorel-mesto.students.nomoreparties.space\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/sign-up`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/sign-in`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleOriginalResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n      'authorization': `Bearer ${token}`,\r\n    },\r\n  }).then(handleOriginalResponse);\r\n};","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {props.loggedIn === true ? (<Component {...props} />) : (<Redirect to=\"/sign-in\" />)}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/login-yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/login-no.df8eddf6.svg\";","import React from \"react\";\nimport api from \"../utils/api.js\";\nimport Main from \"../components/Main.js\";\nimport Footer from \"../components/Footer.js\";\nimport ImagePopup from \"../components/ImagePopup.js\";\nimport EditProfilePopup from \"../components/EditProfilePopup.js\";\nimport EditAvatarPopup from \"../components/EditAvatarPopup.js\";\nimport InfoTooltip from \"../components/InfoTooltip.js\";\nimport AddPlacePopup from \"../components/AddPlacePopup.js\";\nimport { CurrentUserContext } from \"./../contexts/CurrentUserContext.js\";\nimport Register from \"../components/Register.js\";\nimport Login from \"../components/Login.js\";\nimport * as mestoAuth from \"../mestoAuth.js\";\nimport ProtectedRoute from \"../components/ProtectedRoute.js\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  withRouter,\n  useHistory,\n} from \"react-router-dom\";\nimport success from \"./../images/login-yes.svg\";\nimport fail from \"./../images/login-no.svg\";\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isZoomPopupOpen, setIsZoomPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    email: \"\",\n  });\n  const [registerPopup, setRegisterPopup] = React.useState({\n    message: \"\",\n    image: \"\",\n  });\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (!token){\n      return;\n    }\n    api.setToken(token);\n    setLoggedIn(true)\n    }, []);\n\n  // Монтирование эффекта через Promise.all\n  React.useEffect(() => {\n    if (loggedIn) {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userData, cardData]) => {\n        setCurrentUser(userData);\n        setCards(cardData);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n      history.push('/');\n    }\n  }, [loggedIn, history]);\n\n  // Функция регистрации\n  function handleRegister(data) {\n    const { email, password } = data;\n    return mestoAuth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          onRegisterPopup();\n          setRegisterPopup({\n            message: \"Вы успешно зарегистрировались!\",\n            image: success,\n          });\n        }\n        return res;\n      })\n      .catch(() => {\n        onRegisterPopup();\n        setRegisterPopup({\n          message: \"Что-то пошло не так! Попробуйте еще раз.\",\n          image: fail,\n        });\n      });\n  }\n\n  // Функция авторизации\n  function handleLogin(data) {\n    const { email, password } = data;\n    return mestoAuth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"jwt\", res.token);\n          setUserData({\n            email: email,\n          });\n          // api.setToken(res.token);\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция выхода\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  // Функция проверки токена\n  function tokenCheck(jwt) {\n    mestoAuth\n      .getContent(jwt)\n      .then((res) => {\n        if (res) {\n          const userData = {\n            email: res.data.email,\n          };\n          setLoggedIn(true);\n          setUserData(userData);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция лайк-дизлайк\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n          setCards(newCards);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }\n\n  // Функция удаления карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCardsArr = cards.filter((c) => c._id !== card._id);\n        setCards(newCardsArr);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функции открытия popup форм\n  function onEditProfile() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function onAddPlace() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function onEditAvatar() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function onRegisterPopup() {\n    setIsRegisterPopupOpen(true);\n  }\n\n  // Функция открытия popup окна зума карточки\n  function handleCardClick(card) {\n    setIsZoomPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  // Функция закрытия popup форм\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsZoomPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  // Функция апдейта данных пользователя\n  function handleUpdateUser(userData) {\n    api\n      .patchUserData(userData)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция апдейта аватарки пользователя\n  function handleUpdateAvatar(userAvatar) {\n    api\n      .patchUserAvatar(userAvatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  // Функция добавления новой карточки\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .postNewCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            handleSignOut={handleSignOut}\n            onEditProfile={onEditProfile}\n            onAddPlace={onAddPlace}\n            onEditAvatar={onEditAvatar}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n            userData={userData.email}\n          />\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} tokenCheck={tokenCheck} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup\n          isOpen={isZoomPopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <InfoTooltip\n          isOpen={isRegisterPopupOpen}\n          onClose={closeAllPopups}\n          InfoTool={registerPopup}\n          name=\"register\"\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}